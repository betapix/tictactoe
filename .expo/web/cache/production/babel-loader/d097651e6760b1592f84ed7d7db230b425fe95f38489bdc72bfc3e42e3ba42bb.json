{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _excluded=[\"uri\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _regeneratorRuntime(){\"use strict\";var r=_regenerator(),e=r.m(_regeneratorRuntime),t=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function n(r){var e=\"function\"==typeof r&&r.constructor;return!!e&&(e===t||\"GeneratorFunction\"===(e.displayName||e.name));}var o={throw:1,return:2,break:3,continue:3};function a(r){var e,t;return function(n){e||(e={stop:function stop(){return t(n.a,2);},catch:function _catch(){return n.v;},abrupt:function abrupt(r,e){return t(n.a,o[r],e);},delegateYield:function delegateYield(r,o,a){return e.resultName=o,t(n.d,_regeneratorValues(r),a);},finish:function finish(r){return t(n.f,r);}},t=function t(r,_t,o){n.p=e.prev,n.n=e.next;try{return r(_t,o);}finally{e.next=n.n;}}),e.resultName&&(e[e.resultName]=n.v,e.resultName=void 0),e.sent=n.v,e.next=n.n;try{return r.call(this,e);}finally{n.p=e.prev,n.n=e.next;}};}return(_regeneratorRuntime=function _regeneratorRuntime(){return{wrap:function wrap(e,t,n,o){return r.w(a(e),t,n,o&&o.reverse());},isGeneratorFunction:n,mark:r.m,awrap:function awrap(r,e){return new _OverloadYield(r,e);},AsyncIterator:_regeneratorAsyncIterator,async:function async(r,e,t,o,u){return(n(e)?_regeneratorAsyncGen:_regeneratorAsync)(a(r),e,t,o,u);},keys:_regeneratorKeys,values:_regeneratorValues};})();}function _regeneratorValues(e){if(null!=e){var t=e[\"function\"==typeof Symbol&&Symbol.iterator||\"@@iterator\"],r=0;if(t)return t.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length))return{next:function next(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e};}};}throw new TypeError(typeof e+\" is not iterable\");}function _regeneratorKeys(e){var n=Object(e),r=[];for(var t in n){r.unshift(t);}return function e(){for(;r.length;){if((t=r.pop())in n)return e.value=t,e.done=!1,e;}return e.done=!0,e;};}function _regeneratorAsync(n,e,r,t,o){var a=_regeneratorAsyncGen(n,e,r,t,o);return a.next().then(function(n){return n.done?n.value:a.next();});}function _regeneratorAsyncGen(r,e,t,o,n){return new _regeneratorAsyncIterator(_regenerator().w(r,e,t,o),n||Promise);}function _regeneratorAsyncIterator(t,e){function n(r,o,i,f){try{var c=t[r](o),u=c.value;return u instanceof _OverloadYield?e.resolve(u.v).then(function(t){n(\"next\",t,i,f);},function(t){n(\"throw\",t,i,f);}):e.resolve(u).then(function(t){c.value=t,i(c);},function(t){return n(\"throw\",t,i,f);});}catch(t){f(t);}}var r;this.next||(_regeneratorDefine2(_regeneratorAsyncIterator.prototype),_regeneratorDefine2(_regeneratorAsyncIterator.prototype,\"function\"==typeof Symbol&&Symbol.asyncIterator||\"@asyncIterator\",function(){return this;})),_regeneratorDefine2(this,\"_invoke\",function(t,o,i){function f(){return new e(function(e,r){n(t,i,e,r);});}return r=r?r.then(f,f):f();},!0);}function _regenerator(){var e,t,r=\"function\"==typeof Symbol?Symbol:{},n=r.iterator||\"@@iterator\",o=r.toStringTag||\"@@toStringTag\";function i(r,n,o,i){var c=n&&n.prototype instanceof Generator?n:Generator,u=Object.create(c.prototype);return _regeneratorDefine2(u,\"_invoke\",function(r,n,o){var i,c,u,f=0,p=o||[],y=!1,G={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function d(t,r){return i=t,c=0,u=e,G.n=r,a;}};function d(r,n){for(c=r,u=n,t=0;!y&&f&&!o&&t<p.length;t++){var o,i=p[t],d=G.p,l=i[2];r>3?(o=l===n)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(c=0,G.v=n,G.n=i[1]):d<l&&(o=r<3||i[0]>n||n>l)&&(i[4]=r,i[5]=n,G.n=l,c=0));}if(o||r>1)return a;throw y=!0,n;}return function(o,p,l){if(f>1)throw TypeError(\"Generator is already running\");for(y&&1===p&&d(p,l),c=p,u=l;(t=c<2?e:u)||!y;){i||(c?c<3?(c>1&&(G.n=-1),d(c,u)):G.n=u:G.v=u);try{if(f=2,i){if(c||(o=\"next\"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError(\"iterator result is not an object\");if(!t.done)return t;u=t.value,c<2&&(c=0);}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError(\"The iterator does not provide a '\"+o+\"' method\"),c=1);i=e;}else if((t=(y=G.n<0)?u:r.call(n,G))!==a)break;}catch(t){i=e,c=1,u=t;}finally{f=1;}}return{value:t,done:y};};}(r,o,i),!0),u;}var a={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}t=Object.getPrototypeOf;var c=[][n]?t(t([][n]())):(_regeneratorDefine2(t={},n,function(){return this;}),t),u=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,_regeneratorDefine2(e,o,\"GeneratorFunction\")),e.prototype=Object.create(u),e;}return GeneratorFunction.prototype=GeneratorFunctionPrototype,_regeneratorDefine2(u,\"constructor\",GeneratorFunctionPrototype),_regeneratorDefine2(GeneratorFunctionPrototype,\"constructor\",GeneratorFunction),GeneratorFunction.displayName=\"GeneratorFunction\",_regeneratorDefine2(GeneratorFunctionPrototype,o,\"GeneratorFunction\"),_regeneratorDefine2(u),_regeneratorDefine2(u,o,\"Generator\"),_regeneratorDefine2(u,n,function(){return this;}),_regeneratorDefine2(u,\"toString\",function(){return\"[object Generator]\";}),(_regenerator=function _regenerator(){return{w:i,m:f};})();}function _regeneratorDefine2(e,r,n,t){var i=Object.defineProperty;try{i({},\"\",{});}catch(e){i=0;}_regeneratorDefine2=function _regeneratorDefine(e,r,n,t){function o(r,n){_regeneratorDefine2(e,r,function(e){return this._invoke(r,n,e);});}r?i?i(e,r,{value:n,enumerable:!t,configurable:!t,writable:!t}):e[r]=n:(o(\"next\",0),o(\"throw\",1),o(\"return\",2));},_regeneratorDefine2(e,r,n,t);}function _OverloadYield(e,d){this.v=e,this.k=d;}import{PermissionStatus,SyntheticPlatformEmitter}from'expo-modules-core';import{RECORDING_OPTIONS_PRESET_HIGH_QUALITY}from\"./Audio/RecordingConstants\";function getPermissionWithQueryAsync(name){var _await$navigator$perm,state;return _regeneratorRuntime().async(function getPermissionWithQueryAsync$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!navigator||!navigator.permissions||!navigator.permissions.query)){_context.next=2;break;}return _context.abrupt(\"return\",null);case 2:_context.prev=2;_context.next=5;return _regeneratorRuntime().awrap(navigator.permissions.query({name:name}));case 5:_await$navigator$perm=_context.sent;state=_await$navigator$perm.state;_context.t0=state;_context.next=_context.t0==='granted'?10:_context.t0==='denied'?11:12;break;case 10:return _context.abrupt(\"return\",PermissionStatus.GRANTED);case 11:return _context.abrupt(\"return\",PermissionStatus.DENIED);case 12:return _context.abrupt(\"return\",PermissionStatus.UNDETERMINED);case 13:_context.next=18;break;case 15:_context.prev=15;_context.t1=_context[\"catch\"](2);return _context.abrupt(\"return\",PermissionStatus.UNDETERMINED);case 18:case\"end\":return _context.stop();}}},null,null,[[2,15]],Promise);}function getUserMedia(constraints){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){return navigator.mediaDevices.getUserMedia(constraints);}var getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||function(){var error=new Error('Permission unimplemented');error.code=0;error.name='NotAllowedError';throw error;};return new Promise(function(resolve,reject){getUserMedia.call(navigator,constraints,resolve,reject);});}function getStatusFromMedia(media){if(!media){return{isLoaded:false,error:undefined};}var isPlaying=!!(media.currentTime>0&&!media.paused&&!media.ended&&media.readyState>2);var status={isLoaded:true,uri:media.src,progressUpdateIntervalMillis:100,durationMillis:media.duration*1000,positionMillis:media.currentTime*1000,shouldPlay:media.autoplay,isPlaying:isPlaying,isBuffering:false,rate:media.playbackRate,shouldCorrectPitch:false,volume:media.volume,isMuted:media.muted,isLooping:media.loop,didJustFinish:media.ended};return status;}function setStatusForMedia(media,status){if(status.positionMillis!==undefined){media.currentTime=status.positionMillis/1000;}if(status.shouldPlay!==undefined){if(status.shouldPlay){media.play();}else{media.pause();}}if(status.rate!==undefined){media.playbackRate=status.rate;}if(status.volume!==undefined){media.volume=status.volume;}if(status.isMuted!==undefined){media.muted=status.isMuted;}if(status.isLooping!==undefined){media.loop=status.isLooping;}return getStatusFromMedia(media);}var mediaRecorder=null;var mediaRecorderUptimeOfLastStartResume=0;var mediaRecorderDurationAlreadyRecorded=0;var mediaRecorderIsRecording=false;function getAudioRecorderDurationMillis(){var duration=mediaRecorderDurationAlreadyRecorded;if(mediaRecorderIsRecording&&mediaRecorderUptimeOfLastStartResume>0){duration+=Date.now()-mediaRecorderUptimeOfLastStartResume;}return duration;}export default{get name(){return'ExponentAV';},getStatusForVideo:function getStatusForVideo(element){return function _callee(){return _regeneratorRuntime().async(function _callee$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt(\"return\",getStatusFromMedia(element));case 1:case\"end\":return _context2.stop();}}},null,null,null,Promise);}();},loadForVideo:function loadForVideo(element,nativeSource,fullInitialStatus){return function _callee2(){return _regeneratorRuntime().async(function _callee2$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:return _context3.abrupt(\"return\",getStatusFromMedia(element));case 1:case\"end\":return _context3.stop();}}},null,null,null,Promise);}();},unloadForVideo:function unloadForVideo(element){return function _callee3(){return _regeneratorRuntime().async(function _callee3$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:return _context4.abrupt(\"return\",getStatusFromMedia(element));case 1:case\"end\":return _context4.stop();}}},null,null,null,Promise);}();},setStatusForVideo:function setStatusForVideo(element,status){return function _callee4(){return _regeneratorRuntime().async(function _callee4$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:return _context5.abrupt(\"return\",setStatusForMedia(element,status));case 1:case\"end\":return _context5.stop();}}},null,null,null,Promise);}();},replayVideo:function replayVideo(element,status){return function _callee5(){return _regeneratorRuntime().async(function _callee5$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:return _context6.abrupt(\"return\",setStatusForMedia(element,status));case 1:case\"end\":return _context6.stop();}}},null,null,null,Promise);}();},setAudioMode:function setAudioMode(){return function _callee6(){return _regeneratorRuntime().async(function _callee6$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:case\"end\":return _context7.stop();}}},null,null,null,Promise);}();},setAudioIsEnabled:function setAudioIsEnabled(){return function _callee7(){return _regeneratorRuntime().async(function _callee7$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:case\"end\":return _context8.stop();}}},null,null,null,Promise);}();},getStatusForSound:function getStatusForSound(element){return function _callee8(){return _regeneratorRuntime().async(function _callee8$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:return _context9.abrupt(\"return\",getStatusFromMedia(element));case 1:case\"end\":return _context9.stop();}}},null,null,null,Promise);}();},loadForSound:function loadForSound(nativeSource,fullInitialStatus){return function _callee9(){var source,media,status;return _regeneratorRuntime().async(function _callee9$(_context0){while(1){switch(_context0.prev=_context0.next){case 0:source=typeof nativeSource==='string'?nativeSource:nativeSource.uri;media=new Audio(source);media.ontimeupdate=function(){SyntheticPlatformEmitter.emit('didUpdatePlaybackStatus',{key:media,status:getStatusFromMedia(media)});};media.onerror=function(){SyntheticPlatformEmitter.emit('ExponentAV.onError',{key:media,error:media.error.message});};status=setStatusForMedia(media,fullInitialStatus);return _context0.abrupt(\"return\",[media,status]);case 6:case\"end\":return _context0.stop();}}},null,null,null,Promise);}();},unloadForSound:function unloadForSound(element){return function _callee0(){return _regeneratorRuntime().async(function _callee0$(_context1){while(1){switch(_context1.prev=_context1.next){case 0:element.pause();element.removeAttribute('src');element.load();return _context1.abrupt(\"return\",getStatusFromMedia(element));case 4:case\"end\":return _context1.stop();}}},null,null,null,Promise);}();},setStatusForSound:function setStatusForSound(element,status){return function _callee1(){return _regeneratorRuntime().async(function _callee1$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:return _context10.abrupt(\"return\",setStatusForMedia(element,status));case 1:case\"end\":return _context10.stop();}}},null,null,null,Promise);}();},replaySound:function replaySound(element,status){return function _callee10(){return _regeneratorRuntime().async(function _callee10$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:return _context11.abrupt(\"return\",setStatusForMedia(element,status));case 1:case\"end\":return _context11.stop();}}},null,null,null,Promise);}();},getAudioRecordingStatus:function getAudioRecordingStatus(){return function _callee11(_mediaRecorder,_mediaRecorder2,_mediaRecorder3){return _regeneratorRuntime().async(function _callee11$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:return _context12.abrupt(\"return\",{canRecord:((_mediaRecorder=mediaRecorder)==null?void 0:_mediaRecorder.state)==='recording'||((_mediaRecorder2=mediaRecorder)==null?void 0:_mediaRecorder2.state)==='inactive',isRecording:((_mediaRecorder3=mediaRecorder)==null?void 0:_mediaRecorder3.state)==='recording',isDoneRecording:false,durationMillis:getAudioRecorderDurationMillis(),uri:null});case 1:case\"end\":return _context12.stop();}}},null,null,null,Promise);}();},prepareAudioRecorder:function prepareAudioRecorder(options){var _this=this;return function _callee12(){var stream,_await$_this$getAudio,uri,status;return _regeneratorRuntime().async(function _callee12$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:if(!(typeof navigator!=='undefined'&&!navigator.mediaDevices)){_context13.next=2;break;}throw new Error('No media devices available');case 2:mediaRecorderUptimeOfLastStartResume=0;mediaRecorderDurationAlreadyRecorded=0;_context13.next=6;return _regeneratorRuntime().awrap(getUserMedia({audio:true}));case 6:stream=_context13.sent;mediaRecorder=new window.MediaRecorder(stream,(options==null?void 0:options.web)||RECORDING_OPTIONS_PRESET_HIGH_QUALITY.web);mediaRecorder.addEventListener('pause',function(){mediaRecorderDurationAlreadyRecorded=getAudioRecorderDurationMillis();mediaRecorderIsRecording=false;});mediaRecorder.addEventListener('resume',function(){mediaRecorderUptimeOfLastStartResume=Date.now();mediaRecorderIsRecording=true;});mediaRecorder.addEventListener('start',function(){mediaRecorderUptimeOfLastStartResume=Date.now();mediaRecorderDurationAlreadyRecorded=0;mediaRecorderIsRecording=true;});mediaRecorder.addEventListener('stop',function(){mediaRecorderDurationAlreadyRecorded=getAudioRecorderDurationMillis();mediaRecorderIsRecording=false;stream.getTracks().forEach(function(track){return track.stop();});});_context13.next=14;return _regeneratorRuntime().awrap(_this.getAudioRecordingStatus());case 14:_await$_this$getAudio=_context13.sent;uri=_await$_this$getAudio.uri;status=_objectWithoutProperties(_await$_this$getAudio,_excluded);return _context13.abrupt(\"return\",{uri:null,status:status});case 18:case\"end\":return _context13.stop();}}},null,null,null,Promise);}();},startAudioRecording:function startAudioRecording(){var _this2=this;return function _callee13(){return _regeneratorRuntime().async(function _callee13$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:if(!(mediaRecorder===null)){_context14.next=2;break;}throw new Error('Cannot start an audio recording without initializing a MediaRecorder. Run prepareToRecordAsync() before attempting to start an audio recording.');case 2:if(mediaRecorder.state==='paused'){mediaRecorder.resume();}else{mediaRecorder.start();}return _context14.abrupt(\"return\",_this2.getAudioRecordingStatus());case 4:case\"end\":return _context14.stop();}}},null,null,null,Promise);}();},pauseAudioRecording:function pauseAudioRecording(){var _this3=this;return function _callee14(){return _regeneratorRuntime().async(function _callee14$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:if(!(mediaRecorder===null)){_context15.next=2;break;}throw new Error('Cannot start an audio recording without initializing a MediaRecorder. Run prepareToRecordAsync() before attempting to start an audio recording.');case 2:mediaRecorder.pause();return _context15.abrupt(\"return\",_this3.getAudioRecordingStatus());case 4:case\"end\":return _context15.stop();}}},null,null,null,Promise);}();},stopAudioRecording:function stopAudioRecording(){var _this4=this;return function _callee15(){var dataPromise,data,url;return _regeneratorRuntime().async(function _callee15$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:if(!(mediaRecorder===null)){_context16.next=2;break;}throw new Error('Cannot start an audio recording without initializing a MediaRecorder. Run prepareToRecordAsync() before attempting to start an audio recording.');case 2:if(!(mediaRecorder.state==='inactive')){_context16.next=4;break;}return _context16.abrupt(\"return\",_this4.getAudioRecordingStatus());case 4:dataPromise=new Promise(function(resolve){return mediaRecorder.addEventListener('dataavailable',function(e){return resolve(e.data);});});mediaRecorder.stop();_context16.next=8;return _regeneratorRuntime().awrap(dataPromise);case 8:data=_context16.sent;url=URL.createObjectURL(data);_context16.t0=_objectSpread;_context16.t1=_objectSpread;_context16.t2={};_context16.next=15;return _regeneratorRuntime().awrap(_this4.getAudioRecordingStatus());case 15:_context16.t3=_context16.sent;_context16.t4=(0,_context16.t1)(_context16.t2,_context16.t3);_context16.t5={};_context16.t6={uri:url};return _context16.abrupt(\"return\",(0,_context16.t0)(_context16.t4,_context16.t5,_context16.t6));case 20:case\"end\":return _context16.stop();}}},null,null,null,Promise);}();},unloadAudioRecorder:function unloadAudioRecorder(){return function _callee16(){return _regeneratorRuntime().async(function _callee16$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:mediaRecorder=null;case 1:case\"end\":return _context17.stop();}}},null,null,null,Promise);}();},getPermissionsAsync:function getPermissionsAsync(){var _this5=this;return function _callee17(){var maybeStatus;return _regeneratorRuntime().async(function _callee17$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:_context18.next=2;return _regeneratorRuntime().awrap(getPermissionWithQueryAsync('microphone'));case 2:maybeStatus=_context18.sent;_context18.t0=maybeStatus;_context18.next=_context18.t0===PermissionStatus.GRANTED?6:_context18.t0===PermissionStatus.DENIED?7:8;break;case 6:return _context18.abrupt(\"return\",{status:PermissionStatus.GRANTED,expires:'never',canAskAgain:true,granted:true});case 7:return _context18.abrupt(\"return\",{status:PermissionStatus.DENIED,expires:'never',canAskAgain:true,granted:false});case 8:_context18.next=10;return _regeneratorRuntime().awrap(_this5.requestPermissionsAsync());case 10:return _context18.abrupt(\"return\",_context18.sent);case 11:case\"end\":return _context18.stop();}}},null,null,null,Promise);}();},requestPermissionsAsync:function requestPermissionsAsync(){return function _callee18(){var stream;return _regeneratorRuntime().async(function _callee18$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:_context19.prev=0;_context19.next=3;return _regeneratorRuntime().awrap(getUserMedia({audio:true}));case 3:stream=_context19.sent;stream.getTracks().forEach(function(track){return track.stop();});return _context19.abrupt(\"return\",{status:PermissionStatus.GRANTED,expires:'never',canAskAgain:true,granted:true});case 8:_context19.prev=8;_context19.t0=_context19[\"catch\"](0);return _context19.abrupt(\"return\",{status:PermissionStatus.DENIED,expires:'never',canAskAgain:true,granted:false});case 11:case\"end\":return _context19.stop();}}},null,null,[[0,8]],Promise);}();}};","map":{"version":3,"names":["PermissionStatus","SyntheticPlatformEmitter","RECORDING_OPTIONS_PRESET_HIGH_QUALITY","getPermissionWithQueryAsync","name","_await$navigator$perm","state","_regeneratorRuntime","async","getPermissionWithQueryAsync$","_context","prev","next","navigator","permissions","query","abrupt","awrap","sent","t0","GRANTED","DENIED","UNDETERMINED","t1","stop","Promise","getUserMedia","constraints","mediaDevices","webkitGetUserMedia","mozGetUserMedia","error","Error","code","resolve","reject","call","getStatusFromMedia","media","isLoaded","undefined","isPlaying","currentTime","paused","ended","readyState","status","uri","src","progressUpdateIntervalMillis","durationMillis","duration","positionMillis","shouldPlay","autoplay","isBuffering","rate","playbackRate","shouldCorrectPitch","volume","isMuted","muted","isLooping","loop","didJustFinish","setStatusForMedia","play","pause","mediaRecorder","mediaRecorderUptimeOfLastStartResume","mediaRecorderDurationAlreadyRecorded","mediaRecorderIsRecording","getAudioRecorderDurationMillis","Date","now","getStatusForVideo","element","_callee","_callee$","_context2","loadForVideo","nativeSource","fullInitialStatus","_callee2","_callee2$","_context3","unloadForVideo","_callee3","_callee3$","_context4","setStatusForVideo","_callee4","_callee4$","_context5","replayVideo","_callee5","_callee5$","_context6","setAudioMode","_callee6","_callee6$","_context7","setAudioIsEnabled","_callee7","_callee7$","_context8","getStatusForSound","_callee8","_callee8$","_context9","loadForSound","_callee9","source","_callee9$","_context0","Audio","ontimeupdate","emit","key","onerror","message","unloadForSound","_callee0","_callee0$","_context1","removeAttribute","load","setStatusForSound","_callee1","_callee1$","_context10","replaySound","_callee10","_callee10$","_context11","getAudioRecordingStatus","_callee11","_mediaRecorder","_mediaRecorder2","_mediaRecorder3","_callee11$","_context12","canRecord","isRecording","isDoneRecording","prepareAudioRecorder","options","_this","_callee12","stream","_await$_this$getAudio","_callee12$","_context13","audio","window","MediaRecorder","web","addEventListener","getTracks","forEach","track","_objectWithoutProperties","_excluded","startAudioRecording","_this2","_callee13","_callee13$","_context14","resume","start","pauseAudioRecording","_this3","_callee14","_callee14$","_context15","stopAudioRecording","_this4","_callee15","dataPromise","data","url","_callee15$","_context16","e","URL","createObjectURL","_objectSpread","t2","t3","t4","t5","t6","unloadAudioRecorder","_callee16","_callee16$","_context17","getPermissionsAsync","_this5","_callee17","maybeStatus","_callee17$","_context18","expires","canAskAgain","granted","requestPermissionsAsync","_callee18","_callee18$","_context19"],"sources":["E:\\Projects\\IN_BUILD\\TicTacToe\\node_modules\\expo-av\\src\\ExponentAV.web.ts"],"sourcesContent":["import { PermissionResponse, PermissionStatus, SyntheticPlatformEmitter } from 'expo-modules-core';\n\nimport type { AVPlaybackNativeSource, AVPlaybackStatus, AVPlaybackStatusToSet } from './AV.types';\nimport type { RecordingStatus } from './Audio/Recording.types';\nimport { RECORDING_OPTIONS_PRESET_HIGH_QUALITY } from './Audio/RecordingConstants';\n\nasync function getPermissionWithQueryAsync(\n  name: PermissionNameWithAdditionalValues\n): Promise<PermissionStatus | null> {\n  if (!navigator || !navigator.permissions || !navigator.permissions.query) return null;\n\n  try {\n    const { state } = await navigator.permissions.query({ name });\n    switch (state) {\n      case 'granted':\n        return PermissionStatus.GRANTED;\n      case 'denied':\n        return PermissionStatus.DENIED;\n      default:\n        return PermissionStatus.UNDETERMINED;\n    }\n  } catch {\n    // Firefox - TypeError: 'microphone' (value of 'name' member of PermissionDescriptor) is not a valid value for enumeration PermissionName.\n    return PermissionStatus.UNDETERMINED;\n  }\n}\n\nfunction getUserMedia(constraints: MediaStreamConstraints): Promise<MediaStream> {\n  if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n    return navigator.mediaDevices.getUserMedia(constraints);\n  }\n\n  // Some browsers partially implement mediaDevices. We can't just assign an object\n  // with getUserMedia as it would overwrite existing properties.\n  // Here, we will just add the getUserMedia property if it's missing.\n\n  // First get ahold of the legacy getUserMedia, if present\n  const getUserMedia =\n    // TODO: this method is deprecated, migrate to https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia\n    navigator.getUserMedia ||\n    navigator.webkitGetUserMedia ||\n    navigator.mozGetUserMedia ||\n    function () {\n      const error: any = new Error('Permission unimplemented');\n      error.code = 0;\n      error.name = 'NotAllowedError';\n      throw error;\n    };\n\n  return new Promise((resolve, reject) => {\n    getUserMedia.call(navigator, constraints, resolve, reject);\n  });\n}\n\nfunction getStatusFromMedia(media?: HTMLMediaElement): AVPlaybackStatus {\n  if (!media) {\n    return {\n      isLoaded: false,\n      error: undefined,\n    };\n  }\n\n  const isPlaying = !!(\n    media.currentTime > 0 &&\n    !media.paused &&\n    !media.ended &&\n    media.readyState > 2\n  );\n\n  const status: AVPlaybackStatus = {\n    isLoaded: true,\n    uri: media.src,\n    progressUpdateIntervalMillis: 100, //TODO: Bacon: Add interval between calls\n    durationMillis: media.duration * 1000,\n    positionMillis: media.currentTime * 1000,\n    // playableDurationMillis: media.buffered * 1000,\n    // seekMillisToleranceBefore?: number\n    // seekMillisToleranceAfter?: number\n    shouldPlay: media.autoplay,\n    isPlaying,\n    isBuffering: false, //media.waiting,\n    rate: media.playbackRate,\n    // TODO: Bacon: This seems too complicated right now: https://webaudio.github.io/web-audio-api/#dom-biquadfilternode-frequency\n    shouldCorrectPitch: false,\n    volume: media.volume,\n    isMuted: media.muted,\n    isLooping: media.loop,\n    didJustFinish: media.ended,\n  };\n\n  return status;\n}\n\nfunction setStatusForMedia(\n  media: HTMLMediaElement,\n  status: AVPlaybackStatusToSet\n): AVPlaybackStatus {\n  if (status.positionMillis !== undefined) {\n    media.currentTime = status.positionMillis / 1000;\n  }\n  // if (status.progressUpdateIntervalMillis !== undefined) {\n  //   media.progressUpdateIntervalMillis = status.progressUpdateIntervalMillis;\n  // }\n  // if (status.seekMillisToleranceBefore !== undefined) {\n  //   media.seekMillisToleranceBefore = status.seekMillisToleranceBefore;\n  // }\n  // if (status.seekMillisToleranceAfter !== undefined) {\n  //   media.seekMillisToleranceAfter = status.seekMillisToleranceAfter;\n  // }\n  // if (status.shouldCorrectPitch !== undefined) {\n  //   media.shouldCorrectPitch = status.shouldCorrectPitch;\n  // }\n  if (status.shouldPlay !== undefined) {\n    if (status.shouldPlay) {\n      media.play();\n    } else {\n      media.pause();\n    }\n  }\n  if (status.rate !== undefined) {\n    media.playbackRate = status.rate;\n  }\n  if (status.volume !== undefined) {\n    media.volume = status.volume;\n  }\n  if (status.isMuted !== undefined) {\n    media.muted = status.isMuted;\n  }\n  if (status.isLooping !== undefined) {\n    media.loop = status.isLooping;\n  }\n\n  return getStatusFromMedia(media);\n}\n\nlet mediaRecorder: null | any /*MediaRecorder*/ = null;\nlet mediaRecorderUptimeOfLastStartResume: number = 0;\nlet mediaRecorderDurationAlreadyRecorded: number = 0;\nlet mediaRecorderIsRecording: boolean = false;\n\nfunction getAudioRecorderDurationMillis() {\n  let duration = mediaRecorderDurationAlreadyRecorded;\n  if (mediaRecorderIsRecording && mediaRecorderUptimeOfLastStartResume > 0) {\n    duration += Date.now() - mediaRecorderUptimeOfLastStartResume;\n  }\n  return duration;\n}\n\nexport default {\n  get name(): string {\n    return 'ExponentAV';\n  },\n  async getStatusForVideo(element: HTMLMediaElement): Promise<AVPlaybackStatus> {\n    return getStatusFromMedia(element);\n  },\n  async loadForVideo(\n    element: HTMLMediaElement,\n    nativeSource: AVPlaybackNativeSource,\n    fullInitialStatus: AVPlaybackStatusToSet\n  ): Promise<AVPlaybackStatus> {\n    return getStatusFromMedia(element);\n  },\n  async unloadForVideo(element: HTMLMediaElement): Promise<AVPlaybackStatus> {\n    return getStatusFromMedia(element);\n  },\n  async setStatusForVideo(\n    element: HTMLMediaElement,\n    status: AVPlaybackStatusToSet\n  ): Promise<AVPlaybackStatus> {\n    return setStatusForMedia(element, status);\n  },\n  async replayVideo(\n    element: HTMLMediaElement,\n    status: AVPlaybackStatusToSet\n  ): Promise<AVPlaybackStatus> {\n    return setStatusForMedia(element, status);\n  },\n  /* Audio */\n  async setAudioMode() {},\n  async setAudioIsEnabled() {},\n  async getStatusForSound(element: HTMLMediaElement) {\n    return getStatusFromMedia(element);\n  },\n  async loadForSound(\n    nativeSource: string | { uri: string; [key: string]: any },\n    fullInitialStatus: AVPlaybackStatusToSet\n  ): Promise<[HTMLMediaElement, AVPlaybackStatus]> {\n    const source = typeof nativeSource === 'string' ? nativeSource : nativeSource.uri;\n    const media = new Audio(source);\n\n    media.ontimeupdate = () => {\n      SyntheticPlatformEmitter.emit('didUpdatePlaybackStatus', {\n        key: media,\n        status: getStatusFromMedia(media),\n      });\n    };\n\n    media.onerror = () => {\n      SyntheticPlatformEmitter.emit('ExponentAV.onError', {\n        key: media,\n        error: media.error!.message,\n      });\n    };\n\n    const status = setStatusForMedia(media, fullInitialStatus);\n\n    return [media, status];\n  },\n  async unloadForSound(element: HTMLMediaElement) {\n    element.pause();\n    element.removeAttribute('src');\n    element.load();\n    return getStatusFromMedia(element);\n  },\n  async setStatusForSound(\n    element: HTMLMediaElement,\n    status: AVPlaybackStatusToSet\n  ): Promise<AVPlaybackStatus> {\n    return setStatusForMedia(element, status);\n  },\n  async replaySound(\n    element: HTMLMediaElement,\n    status: AVPlaybackStatusToSet\n  ): Promise<AVPlaybackStatus> {\n    return setStatusForMedia(element, status);\n  },\n\n  /* Recording */\n  //   async setUnloadedCallbackForAndroidRecording() {},\n  async getAudioRecordingStatus(): Promise<RecordingStatus> {\n    return {\n      canRecord: mediaRecorder?.state === 'recording' || mediaRecorder?.state === 'inactive',\n      isRecording: mediaRecorder?.state === 'recording',\n      isDoneRecording: false,\n      durationMillis: getAudioRecorderDurationMillis(),\n      uri: null,\n    };\n  },\n  async prepareAudioRecorder(options): Promise<{\n    uri: string | null;\n    // status is of type RecordingStatus, but without the canRecord field populated\n    status: Pick<RecordingStatus, Exclude<keyof RecordingStatus, 'canRecord'>>;\n  }> {\n    if (typeof navigator !== 'undefined' && !navigator.mediaDevices) {\n      throw new Error('No media devices available');\n    }\n\n    mediaRecorderUptimeOfLastStartResume = 0;\n    mediaRecorderDurationAlreadyRecorded = 0;\n\n    const stream = await getUserMedia({ audio: true });\n\n    mediaRecorder = new (window as any).MediaRecorder(\n      stream,\n      options?.web || RECORDING_OPTIONS_PRESET_HIGH_QUALITY.web\n    );\n\n    mediaRecorder.addEventListener('pause', () => {\n      mediaRecorderDurationAlreadyRecorded = getAudioRecorderDurationMillis();\n      mediaRecorderIsRecording = false;\n    });\n\n    mediaRecorder.addEventListener('resume', () => {\n      mediaRecorderUptimeOfLastStartResume = Date.now();\n      mediaRecorderIsRecording = true;\n    });\n\n    mediaRecorder.addEventListener('start', () => {\n      mediaRecorderUptimeOfLastStartResume = Date.now();\n      mediaRecorderDurationAlreadyRecorded = 0;\n      mediaRecorderIsRecording = true;\n    });\n\n    mediaRecorder.addEventListener('stop', () => {\n      mediaRecorderDurationAlreadyRecorded = getAudioRecorderDurationMillis();\n      mediaRecorderIsRecording = false;\n\n      // Clears recording icon in Chrome tab\n      stream.getTracks().forEach((track) => track.stop());\n    });\n\n    const { uri, ...status } = await this.getAudioRecordingStatus();\n\n    return { uri: null, status };\n  },\n  async startAudioRecording(): Promise<RecordingStatus> {\n    if (mediaRecorder === null) {\n      throw new Error(\n        'Cannot start an audio recording without initializing a MediaRecorder. Run prepareToRecordAsync() before attempting to start an audio recording.'\n      );\n    }\n\n    if (mediaRecorder.state === 'paused') {\n      mediaRecorder.resume();\n    } else {\n      mediaRecorder.start();\n    }\n\n    return this.getAudioRecordingStatus();\n  },\n  async pauseAudioRecording(): Promise<RecordingStatus> {\n    if (mediaRecorder === null) {\n      throw new Error(\n        'Cannot start an audio recording without initializing a MediaRecorder. Run prepareToRecordAsync() before attempting to start an audio recording.'\n      );\n    }\n\n    // Set status to paused\n    mediaRecorder.pause();\n\n    return this.getAudioRecordingStatus();\n  },\n  async stopAudioRecording(): Promise<RecordingStatus> {\n    if (mediaRecorder === null) {\n      throw new Error(\n        'Cannot start an audio recording without initializing a MediaRecorder. Run prepareToRecordAsync() before attempting to start an audio recording.'\n      );\n    }\n\n    if (mediaRecorder.state === 'inactive') {\n      return this.getAudioRecordingStatus();\n    }\n\n    const dataPromise = new Promise<Blob>((resolve) =>\n      mediaRecorder.addEventListener('dataavailable', (e) => resolve(e.data))\n    );\n\n    mediaRecorder.stop();\n\n    const data = await dataPromise;\n    const url = URL.createObjectURL(data);\n\n    return {\n      ...(await this.getAudioRecordingStatus()),\n      uri: url,\n    };\n  },\n  async unloadAudioRecorder(): Promise<void> {\n    mediaRecorder = null;\n  },\n\n  async getPermissionsAsync(): Promise<PermissionResponse> {\n    const maybeStatus = await getPermissionWithQueryAsync('microphone');\n    switch (maybeStatus) {\n      case PermissionStatus.GRANTED:\n        return {\n          status: PermissionStatus.GRANTED,\n          expires: 'never',\n          canAskAgain: true,\n          granted: true,\n        };\n      case PermissionStatus.DENIED:\n        return {\n          status: PermissionStatus.DENIED,\n          expires: 'never',\n          canAskAgain: true,\n          granted: false,\n        };\n      default:\n        return await this.requestPermissionsAsync();\n    }\n  },\n  async requestPermissionsAsync(): Promise<PermissionResponse> {\n    try {\n      const stream = await getUserMedia({ audio: true });\n      stream.getTracks().forEach((track) => track.stop());\n      return {\n        status: PermissionStatus.GRANTED,\n        expires: 'never',\n        canAskAgain: true,\n        granted: true,\n      };\n    } catch {\n      return {\n        status: PermissionStatus.DENIED,\n        expires: 'never',\n        canAskAgain: true,\n        granted: false,\n      };\n    }\n  },\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}